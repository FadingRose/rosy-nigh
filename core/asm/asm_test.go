package asm

import (
	"encoding/hex"
	"fmt"
	"testing"
)

// Tests disassembling instructions
func TestInstructionIterator(t *testing.T) {
	for i, tc := range []struct {
		want    int
		code    string
		wantErr string
	}{
		{2, "61000000", ""},                             // valid code
		{0, "6100", "incomplete push instruction at 0"}, // invalid code
		{2, "5900", ""},                                 // push0
		{0, "", ""},                                     // empty

	} {
		var (
			have    int
			code, _ = hex.DecodeString(tc.code)
			it      = NewInstructionIterator(code)
		)
		for it.Next() {
			have++
		}
		haveErr := ""
		if it.Error() != nil {
			haveErr = it.Error().Error()
		}
		if haveErr != tc.wantErr {
			t.Errorf("test %d: encountered error: %q want %q", i, haveErr, tc.wantErr)
			continue
		}
		if have != tc.want {
			t.Errorf("wrong instruction count, have %d want %d", have, tc.want)
		}
	}
}

func TestDisassmble(t *testing.T) {
	staticbin := "6080604052604051620031b3380380620031b3833981810160405260408110156200002957600080fd5b810190808051906020019092919080519060200190929190505050336000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506040518060400160405280600381526020017f504547000000000000000000000000000000000000000000000000000000000081525060029080519060200190620000d19291906200050b565b506040518060400160405280600e81526020017f50454720537461626c65636f696e000000000000000000000000000000000000815250600390805190602001906200011f9291906200050b565b506012600460006101000a81548160ff021916908360ff160217905550426006819055508060078190555081600a60006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506000806200019e6200032060201b60201c565b8092508193505050806200021a576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252600e8152602001807f6f7261636c65206661696c75726500000000000000000000000000000000000081525060200191505060405180910390fd5b62000262600460009054906101000a900460ff1660ff16600a0a6200024e4785620003e760201b620023731790919060201c565b6200048060201b620024091790919060201c565b600581905550600554600860003073ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055503073ffffffffffffffffffffffffffffffffffffffff16600073ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef6005546040518082815260200191505060405180910390a350505050620005b1565b6000806000600a60009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166359e02dd76040518163ffffffff1660e01b8152600401604080518083038186803b1580156200038d57600080fd5b505afa158015620003a2573d6000803e3d6000fd5b505050506040513d6040811015620003b957600080fd5b81019080805190602001909291908051906020019092919050505080935081925050508060001c9250509091565b600081830290506000831480620004075750818382816200040457fe5b04145b6200047a576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260178152602001807f6d756c7469706c69636174696f6e206f766572666c6f7700000000000000000081525060200191505060405180910390fd5b92915050565b6000808211620004f8576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260108152602001807f6469766973696f6e206279207a65726f0000000000000000000000000000000081525060200191505060405180910390fd5b8183816200050257fe5b04905092915050565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f106200054e57805160ff19168380011785556200057f565b828001600101855582156200057f579182015b828111156200057e57825182559160200191906001019062000561565b5b5090506200058e919062000592565b5090565b5b80821115620005ad57600081600090555060010162000593565b5090565b612bf280620005c16000396000f3fe6080604052600436106101395760003560e01c806379ba5097116100ab578063cae9ca511161006f578063cae9ca5114610621578063d4ee1d9014610729578063dc39d06d1461076a578063dd62ed3e146107db578063f04961ba14610860578063f2fde38b146108b85761014a565b806379ba5097146104a85780638da5cb5b146104bf57806395d89b4114610500578063a9059cbb14610590578063c8c8bb2a146106015761014a565b80632d740f9e116100fd5780632d740f9e14610333578063313ce56714610367578063341776d91461039557806342966c68146103c057806352375bb11461041157806370a08231146104435761014a565b806306fdde031461014f578063095ea7b3146101df57806309c1a71a1461025057806318160ddd1461027757806323b872dd146102a25761014a565b3661014a57610146610909565b5050005b600080fd5b34801561015b57600080fd5b50610164610ba2565b6040518080602001828103825283818151815260200191508051906020019080838360005b838110156101a4578082015181840152602081019050610189565b50505050905090810190601f1680156101d15780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b3480156101eb57600080fd5b506102386004803603604081101561020257600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190505050610c40565b60405180821515815260200191505060405180910390f35b610258610909565b6040518083151581526020018281526020019250505060405180910390f35b34801561028357600080fd5b5061028c610d49565b6040518082815260200191505060405180910390f35b3480156102ae57600080fd5b5061031b600480360360608110156102c557600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190505050610d53565b60405180821515815260200191505060405180910390f35b34801561033f57600080fd5b506103486111e1565b6040518083815260200182151581526020019250505060405180910390f35b34801561037357600080fd5b5061037c6112a5565b604051808260ff16815260200191505060405180910390f35b3480156103a157600080fd5b506103aa6112b8565b6040518082815260200191505060405180910390f35b3480156103cc57600080fd5b506103f9600480360360208110156103e357600080fd5b81019080803590602001909291905050506112df565b60405180821515815260200191505060405180910390f35b34801561041d57600080fd5b50610426611465565b604051808381526020018281526020019250505060405180910390f35b34801561044f57600080fd5b506104926004803603602081101561046657600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919050505061147a565b6040518082815260200191505060405180910390f35b3480156104b457600080fd5b506104bd6114c3565b005b3480156104cb57600080fd5b506104d46116c8565b604051808273ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b34801561050c57600080fd5b506105156116ec565b6040518080602001828103825283818151815260200191508051906020019080838360005b8381101561055557808201518184015260208101905061053a565b50505050905090810190601f1680156105825780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b34801561059c57600080fd5b506105e9600480360360408110156105b357600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff1690602001909291908035906020019092919050505061178a565b60405180821515815260200191505060405180910390f35b610609611a06565b60405180821515815260200191505060405180910390f35b34801561062d57600080fd5b506107116004803603606081101561064457600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803590602001909291908035906020019064010000000081111561068b57600080fd5b82018360208201111561069d57600080fd5b803590602001918460018302840111640100000000831117156106bf57600080fd5b91908080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f820116905080830192505050505050509192919290505050611a0f565b60405180821515815260200191505060405180910390f35b34801561073557600080fd5b5061073e611c2d565b604051808273ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b34801561077657600080fd5b506107c36004803603604081101561078d57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190505050611c53565b60405180821515815260200191505060405180910390f35b3480156107e757600080fd5b5061084a600480360360408110156107fe57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050611e8d565b6040518082815260200191505060405180910390f35b34801561086c57600080fd5b506108996004803603602081101561088357600080fd5b8101908080359060200190929190505050611f14565b6040518083151581526020018281526020019250505060405180910390f35b3480156108c457600080fd5b50610907600480360360208110156108db57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919050505061226e565b005b60008061099c6305f5e10061098e610940476109326305f5e1003461237390919063ffffffff16565b61240990919063ffffffff16565b600860003073ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205461237390919063ffffffff16565b61240990919063ffffffff16565b90506109f081600860003073ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205461249290919063ffffffff16565b600860003073ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002081905550610a8581600860003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205461251590919063ffffffff16565b600860003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055503373ffffffffffffffffffffffffffffffffffffffff167fd5ee694c0bab078223a60a453ca307d033dbf16e1d491ecf996bff9b08cac9623483604051808381526020018281526020019250505060405180910390a23373ffffffffffffffffffffffffffffffffffffffff163073ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef836040518082815260200191505060405180910390a360019150600754600654014210610b9e57610b9c612598565b505b9091565b60038054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015610c385780601f10610c0d57610100808354040283529160200191610c38565b820191906000526020600020905b815481529060010190602001808311610c1b57829003601f168201915b505050505081565b600081600960003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055508273ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff167f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925846040518082815260200191505060405180910390a360019050600754600654014210610d4357610d41612598565b505b92915050565b6000600554905090565b60008073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff161415610dda576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401808060200182810382526021815260200180612b9c6021913960400191505060405180910390fd5b3073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff161415610e7c576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260168152602001807f63616e2774207472616e7366657220746f2073656c660000000000000000000081525060200191505060405180910390fd5b610ece82600860008773ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205461249290919063ffffffff16565b600860008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff600960008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205410156110c55761104482600960008773ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205461249290919063ffffffff16565b600960008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055505b61111782600860008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205461251590919063ffffffff16565b600860008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055508273ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef846040518082815260200191505060405180910390a3600190506007546006540142106111da576111d8612598565b505b9392505050565b6000806000600a60009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166359e02dd76040518163ffffffff1660e01b8152600401604080518083038186803b15801561124d57600080fd5b505afa158015611261573d6000803e3d6000fd5b505050506040513d604081101561127757600080fd5b81019080805190602001909291908051906020019092919050505080935081925050508060001c9250509091565b600460009054906101000a900460ff1681565b60006007546006540142106112d057600090506112dc565b42600754600654010390505b90565b60006112f68260055461249290919063ffffffff16565b60058190555061134e82600860003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205461249290919063ffffffff16565b600860003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055503373ffffffffffffffffffffffffffffffffffffffff167fcc16f5dbb4873280815c1ee09dbd06736cffcc184412cf7a71a0fdb75d397ca5836040518082815260200191505060405180910390a2600073ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef846040518082815260200191505060405180910390a3600190506007546006540142106114605761145e612598565b505b919050565b600080476114723061147a565b915091509091565b6000600860008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020549050919050565b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614611586576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260118152602001807f756e617574686f72697365642063616c6c00000000000000000000000000000081525060200191505060405180910390fd5b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1660008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e060405160405180910390a3600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff166000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506000600160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550565b60008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b60028054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156117825780601f1061175757610100808354040283529160200191611782565b820191906000526020600020905b81548152906001019060200180831161176557829003601f168201915b505050505081565b60008073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff161415611811576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401808060200182810382526021815260200180612b9c6021913960400191505060405180910390fd5b3073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff1614156118555761184e82611f14565b50506119e5565b6118a782600860003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205461249290919063ffffffff16565b600860003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000208190555061193c82600860008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205461251590919063ffffffff16565b600860008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055508273ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef846040518082815260200191505060405180910390a35b60019050600754600654014210611a00576119fe612598565b505b92915050565b60006001905090565b600082600960003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055508373ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff167f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925856040518082815260200191505060405180910390a38373ffffffffffffffffffffffffffffffffffffffff16638f4ffcb1338530866040518563ffffffff1660e01b8152600401808573ffffffffffffffffffffffffffffffffffffffff1681526020018481526020018373ffffffffffffffffffffffffffffffffffffffff16815260200180602001828103825283818151815260200191508051906020019080838360005b83811015611ba4578082015181840152602081019050611b89565b50505050905090810190601f168015611bd15780820380516001836020036101000a031916815260200191505b5095505050505050600060405180830381600087803b158015611bf357600080fd5b505af1158015611c07573d6000803e3d6000fd5b5050505060019050600754600654014210611c2657611c24612598565b505b9392505050565b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b60008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614611d17576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260118152602001807f756e617574686f72697365642063616c6c00000000000000000000000000000081525060200191505060405180910390fd5b3073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff161415611db9576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260128152602001807f63616e277420776974686472617720504547000000000000000000000000000081525060200191505060405180910390fd5b8273ffffffffffffffffffffffffffffffffffffffff1663a9059cbb60008054906101000a900473ffffffffffffffffffffffffffffffffffffffff16846040518363ffffffff1660e01b8152600401808373ffffffffffffffffffffffffffffffffffffffff16815260200182815260200192505050602060405180830381600087803b158015611e4a57600080fd5b505af1158015611e5e573d6000803e3d6000fd5b505050506040513d6020811015611e7457600080fd5b8101908080519060200190929190505050905092915050565b6000600960008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054905092915050565b600080611fb96305f5e100611fab611f9c611f7787600860003073ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205461251590919063ffffffff16565b611f8e6305f5e1008961237390919063ffffffff16565b61240990919063ffffffff16565b4761237390919063ffffffff16565b61240990919063ffffffff16565b905061200d83600860003073ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205461251590919063ffffffff16565b600860003073ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055503373ffffffffffffffffffffffffffffffffffffffff16600160405180600001905060006040518083038185875af1925050503d80600081146120af576040519150601f19603f3d011682016040523d82523d6000602084013e6120b4565b606091505b50505061210983600860003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205461249290919063ffffffff16565b600860003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055503373ffffffffffffffffffffffffffffffffffffffff167f4d67734d52034739be58f2ad827afa1d76951a0dfcc506b9e92e0f7d99b815078483604051808381526020018281526020019250505060405180910390a23073ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef856040518082815260200191505060405180910390a33373ffffffffffffffffffffffffffffffffffffffff166108fc829081150290604051600060405180830381858888f1935050505015801561224d573d6000803e3d6000fd5b506001915060075460065401421061226957612267612598565b505b915091565b60008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161461232f576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260118152602001807f756e617574686f72697365642063616c6c00000000000000000000000000000081525060200191505060405180910390fd5b80600160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555050565b60008183029050600083148061239157508183828161238e57fe5b04145b612403576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260178152602001807f6d756c7469706c69636174696f6e206f766572666c6f7700000000000000000081525060200191505060405180910390fd5b92915050565b6000808211612480576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260108152602001807f6469766973696f6e206279207a65726f0000000000000000000000000000000081525060200191505060405180910390fd5b81838161248957fe5b04905092915050565b60008282111561250a576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260148152602001807f7375627472616374696f6e206f766572666c6f7700000000000000000000000081525060200191505060405180910390fd5b818303905092915050565b6000818301905082811015612592576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260118152602001807f6164646974696f6e206f766572666c6f7700000000000000000000000000000081525060200191505060405180910390fd5b92915050565b60008060006125a56111e1565b80925081935050508061262e57600860003073ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020549250426006819055507f75060b8162d3b84be2a572201084a52427a02e230035b5853f74d42a3a6835b860405160405180910390a15050612b98565b612668600460009054906101000a900460ff1660ff16600a0a61265a478561237390919063ffffffff16565b61240990919063ffffffff16565b915060656064600860003073ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054816126b557fe5b04028211156128c4576000612725600a612717600860003073ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020548661249290919063ffffffff16565b61240990919063ffffffff16565b905061277981600860003073ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205461251590919063ffffffff16565b93507faf455eb3601828170731dd864d1269324088b8f0a30e67ab9dad59e72ca57a7c600860003073ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205482604051808381526020018281526020019250505060405180910390a13073ffffffffffffffffffffffffffffffffffffffff16600073ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef836040518082815260200191505060405180910390a383600860003073ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055506128b88160055461251590919063ffffffff16565b60058190555050612b8e565b60636064600860003073ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020548161290f57fe5b0402821015612b1e57600061297f600a61297185600860003073ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205461249290919063ffffffff16565b61240990919063ffffffff16565b90506129d381600860003073ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205461249290919063ffffffff16565b93507f736ce3b4042d1c55ca5f8aee68350ae70e8fc4a032e3a229764abbba7cd47629600860003073ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205482604051808381526020018281526020019250505060405180910390a1600073ffffffffffffffffffffffffffffffffffffffff163073ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef836040518082815260200191505060405180910390a383600860003073ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002081905550612b128160055461249290919063ffffffff16565b60058190555050612b8d565b600860003073ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205492507ff07601ba1b773cee11e77cc56639a225c0dad6216486e99e0df46d90fc9e074860405160405180910390a15b5b4260068190555050505b9056fe63616e27742073656e6420746f203020616464726573732c20757365206275726ea26469706673582212206ed1e3a382ce02466e059a53e107b9823bebd4fa9694cdf63333f22d010aa6a864736f6c634300060c0033"
	// runtiebin := "6080604052600436106101395760003560e01c806379ba5097116100ab578063cae9ca511161006f578063cae9ca5114610621578063d4ee1d9014610729578063dc39d06d1461076a578063dd62ed3e146107db578063f04961ba14610860578063f2fde38b146108b85761014a565b806379ba5097146104a85780638da5cb5b146104bf57806395d89b4114610500578063a9059cbb14610590578063c8c8bb2a146106015761014a565b80632d740f9e116100fd5780632d740f9e14610333578063313ce56714610367578063341776d91461039557806342966c68146103c057806352375bb11461041157806370a08231146104435761014a565b806306fdde031461014f578063095ea7b3146101df57806309c1a71a1461025057806318160ddd1461027757806323b872dd146102a25761014a565b3661014a57610146610909565b5050005b600080fd5b34801561015b57600080fd5b50610164610ba2565b6040518080602001828103825283818151815260200191508051906020019080838360005b838110156101a4578082015181840152602081019050610189565b50505050905090810190601f1680156101d15780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b3480156101eb57600080fd5b506102386004803603604081101561020257600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190505050610c40565b60405180821515815260200191505060405180910390f35b610258610909565b6040518083151581526020018281526020019250505060405180910390f35b34801561028357600080fd5b5061028c610d49565b6040518082815260200191505060405180910390f35b3480156102ae57600080fd5b5061031b600480360360608110156102c557600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190505050610d53565b60405180821515815260200191505060405180910390f35b34801561033f57600080fd5b506103486111e1565b6040518083815260200182151581526020019250505060405180910390f35b34801561037357600080fd5b5061037c6112a5565b604051808260ff16815260200191505060405180910390f35b3480156103a157600080fd5b506103aa6112b8565b6040518082815260200191505060405180910390f35b3480156103cc57600080fd5b506103f9600480360360208110156103e357600080fd5b81019080803590602001909291905050506112df565b60405180821515815260200191505060405180910390f35b34801561041d57600080fd5b50610426611465565b604051808381526020018281526020019250505060405180910390f35b34801561044f57600080fd5b506104926004803603602081101561046657600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919050505061147a565b6040518082815260200191505060405180910390f35b3480156104b457600080fd5b506104bd6114c3565b005b3480156104cb57600080fd5b506104d46116c8565b604051808273ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b34801561050c57600080fd5b506105156116ec565b6040518080602001828103825283818151815260200191508051906020019080838360005b8381101561055557808201518184015260208101905061053a565b50505050905090810190601f1680156105825780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b34801561059c57600080fd5b506105e9600480360360408110156105b357600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff1690602001909291908035906020019092919050505061178a565b60405180821515815260200191505060405180910390f35b610609611a06565b60405180821515815260200191505060405180910390f35b34801561062d57600080fd5b506107116004803603606081101561064457600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803590602001909291908035906020019064010000000081111561068b57600080fd5b82018360208201111561069d57600080fd5b803590602001918460018302840111640100000000831117156106bf57600080fd5b91908080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f820116905080830192505050505050509192919290505050611a0f565b60405180821515815260200191505060405180910390f35b34801561073557600080fd5b5061073e611c2d565b604051808273ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b34801561077657600080fd5b506107c36004803603604081101561078d57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190505050611c53565b60405180821515815260200191505060405180910390f35b3480156107e757600080fd5b5061084a600480360360408110156107fe57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050611e8d565b6040518082815260200191505060405180910390f35b34801561086c57600080fd5b506108996004803603602081101561088357600080fd5b8101908080359060200190929190505050611f14565b6040518083151581526020018281526020019250505060405180910390f35b3480156108c457600080fd5b50610907600480360360208110156108db57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919050505061226e565b005b60008061099c6305f5e10061098e610940476109326305f5e1003461237390919063ffffffff16565b61240990919063ffffffff16565b600860003073ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205461237390919063ffffffff16565b61240990919063ffffffff16565b90506109f081600860003073ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205461249290919063ffffffff16565b600860003073ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002081905550610a8581600860003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205461251590919063ffffffff16565b600860003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055503373ffffffffffffffffffffffffffffffffffffffff167fd5ee694c0bab078223a60a453ca307d033dbf16e1d491ecf996bff9b08cac9623483604051808381526020018281526020019250505060405180910390a23373ffffffffffffffffffffffffffffffffffffffff163073ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef836040518082815260200191505060405180910390a360019150600754600654014210610b9e57610b9c612598565b505b9091565b60038054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015610c385780601f10610c0d57610100808354040283529160200191610c38565b820191906000526020600020905b815481529060010190602001808311610c1b57829003601f168201915b505050505081565b600081600960003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055508273ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff167f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925846040518082815260200191505060405180910390a360019050600754600654014210610d4357610d41612598565b505b92915050565b6000600554905090565b60008073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff161415610dda576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401808060200182810382526021815260200180612b9c6021913960400191505060405180910390fd5b3073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff161415610e7c576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260168152602001807f63616e2774207472616e7366657220746f2073656c660000000000000000000081525060200191505060405180910390fd5b610ece82600860008773ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205461249290919063ffffffff16565b600860008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff600960008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205410156110c55761104482600960008773ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205461249290919063ffffffff16565b600960008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055505b61111782600860008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205461251590919063ffffffff16565b600860008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055508273ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef846040518082815260200191505060405180910390a3600190506007546006540142106111da576111d8612598565b505b9392505050565b6000806000600a60009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166359e02dd76040518163ffffffff1660e01b8152600401604080518083038186803b15801561124d57600080fd5b505afa158015611261573d6000803e3d6000fd5b505050506040513d604081101561127757600080fd5b81019080805190602001909291908051906020019092919050505080935081925050508060001c9250509091565b600460009054906101000a900460ff1681565b60006007546006540142106112d057600090506112dc565b42600754600654010390505b90565b60006112f68260055461249290919063ffffffff16565b60058190555061134e82600860003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205461249290919063ffffffff16565b600860003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055503373ffffffffffffffffffffffffffffffffffffffff167fcc16f5dbb4873280815c1ee09dbd06736cffcc184412cf7a71a0fdb75d397ca5836040518082815260200191505060405180910390a2600073ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef846040518082815260200191505060405180910390a3600190506007546006540142106114605761145e612598565b505b919050565b600080476114723061147a565b915091509091565b6000600860008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020549050919050565b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614611586576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260118152602001807f756e617574686f72697365642063616c6c00000000000000000000000000000081525060200191505060405180910390fd5b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1660008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e060405160405180910390a3600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff166000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506000600160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550565b60008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b60028054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156117825780601f1061175757610100808354040283529160200191611782565b820191906000526020600020905b81548152906001019060200180831161176557829003601f168201915b505050505081565b60008073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff161415611811576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401808060200182810382526021815260200180612b9c6021913960400191505060405180910390fd5b3073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff1614156118555761184e82611f14565b50506119e5565b6118a782600860003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205461249290919063ffffffff16565b600860003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000208190555061193c82600860008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205461251590919063ffffffff16565b600860008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055508273ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef846040518082815260200191505060405180910390a35b60019050600754600654014210611a00576119fe612598565b505b92915050565b60006001905090565b600082600960003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055508373ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff167f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925856040518082815260200191505060405180910390a38373ffffffffffffffffffffffffffffffffffffffff16638f4ffcb1338530866040518563ffffffff1660e01b8152600401808573ffffffffffffffffffffffffffffffffffffffff1681526020018481526020018373ffffffffffffffffffffffffffffffffffffffff16815260200180602001828103825283818151815260200191508051906020019080838360005b83811015611ba4578082015181840152602081019050611b89565b50505050905090810190601f168015611bd15780820380516001836020036101000a031916815260200191505b5095505050505050600060405180830381600087803b158015611bf357600080fd5b505af1158015611c07573d6000803e3d6000fd5b5050505060019050600754600654014210611c2657611c24612598565b505b9392505050565b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b60008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614611d17576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260118152602001807f756e617574686f72697365642063616c6c00000000000000000000000000000081525060200191505060405180910390fd5b3073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff161415611db9576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260128152602001807f63616e277420776974686472617720504547000000000000000000000000000081525060200191505060405180910390fd5b8273ffffffffffffffffffffffffffffffffffffffff1663a9059cbb60008054906101000a900473ffffffffffffffffffffffffffffffffffffffff16846040518363ffffffff1660e01b8152600401808373ffffffffffffffffffffffffffffffffffffffff16815260200182815260200192505050602060405180830381600087803b158015611e4a57600080fd5b505af1158015611e5e573d6000803e3d6000fd5b505050506040513d6020811015611e7457600080fd5b8101908080519060200190929190505050905092915050565b6000600960008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054905092915050565b600080611fb96305f5e100611fab611f9c611f7787600860003073ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205461251590919063ffffffff16565b611f8e6305f5e1008961237390919063ffffffff16565b61240990919063ffffffff16565b4761237390919063ffffffff16565b61240990919063ffffffff16565b905061200d83600860003073ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205461251590919063ffffffff16565b600860003073ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055503373ffffffffffffffffffffffffffffffffffffffff16600160405180600001905060006040518083038185875af1925050503d80600081146120af576040519150601f19603f3d011682016040523d82523d6000602084013e6120b4565b606091505b50505061210983600860003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205461249290919063ffffffff16565b600860003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055503373ffffffffffffffffffffffffffffffffffffffff167f4d67734d52034739be58f2ad827afa1d76951a0dfcc506b9e92e0f7d99b815078483604051808381526020018281526020019250505060405180910390a23073ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef856040518082815260200191505060405180910390a33373ffffffffffffffffffffffffffffffffffffffff166108fc829081150290604051600060405180830381858888f1935050505015801561224d573d6000803e3d6000fd5b506001915060075460065401421061226957612267612598565b505b915091565b60008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161461232f576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260118152602001807f756e617574686f72697365642063616c6c00000000000000000000000000000081525060200191505060405180910390fd5b80600160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555050565b60008183029050600083148061239157508183828161238e57fe5b04145b612403576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260178152602001807f6d756c7469706c69636174696f6e206f766572666c6f7700000000000000000081525060200191505060405180910390fd5b92915050565b6000808211612480576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260108152602001807f6469766973696f6e206279207a65726f0000000000000000000000000000000081525060200191505060405180910390fd5b81838161248957fe5b04905092915050565b60008282111561250a576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260148152602001807f7375627472616374696f6e206f766572666c6f7700000000000000000000000081525060200191505060405180910390fd5b818303905092915050565b6000818301905082811015612592576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260118152602001807f6164646974696f6e206f766572666c6f7700000000000000000000000000000081525060200191505060405180910390fd5b92915050565b60008060006125a56111e1565b80925081935050508061262e57600860003073ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020549250426006819055507f75060b8162d3b84be2a572201084a52427a02e230035b5853f74d42a3a6835b860405160405180910390a15050612b98565b612668600460009054906101000a900460ff1660ff16600a0a61265a478561237390919063ffffffff16565b61240990919063ffffffff16565b915060656064600860003073ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054816126b557fe5b04028211156128c4576000612725600a612717600860003073ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020548661249290919063ffffffff16565b61240990919063ffffffff16565b905061277981600860003073ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205461251590919063ffffffff16565b93507faf455eb3601828170731dd864d1269324088b8f0a30e67ab9dad59e72ca57a7c600860003073ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205482604051808381526020018281526020019250505060405180910390a13073ffffffffffffffffffffffffffffffffffffffff16600073ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef836040518082815260200191505060405180910390a383600860003073ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055506128b88160055461251590919063ffffffff16565b60058190555050612b8e565b60636064600860003073ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020548161290f57fe5b0402821015612b1e57600061297f600a61297185600860003073ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205461249290919063ffffffff16565b61240990919063ffffffff16565b90506129d381600860003073ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205461249290919063ffffffff16565b93507f736ce3b4042d1c55ca5f8aee68350ae70e8fc4a032e3a229764abbba7cd47629600860003073ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205482604051808381526020018281526020019250505060405180910390a1600073ffffffffffffffffffffffffffffffffffffffff163073ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef836040518082815260200191505060405180910390a383600860003073ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002081905550612b128160055461249290919063ffffffff16565b60058190555050612b8d565b600860003073ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205492507ff07601ba1b773cee11e77cc56639a225c0dad6216486e99e0df46d90fc9e074860405160405180910390a15b5b4260068190555050505b9056fe63616e27742073656e6420746f203020616464726573732c20757365206275726ea26469706673582212206ed1e3a382ce02466e059a53e107b9823bebd4fa9694cdf63333f22d010aa6a864736f6c634300060c0033"
	onlinebin := "608060405260405162001b3238038062001b32833981810160405260408110156200002957600080fd5b508051602091820151600080546001600160a01b031916331790556040805180820190915260038082526250454760e81b919094019081529192909162000074916002919062000331565b5060408051808201909152600e8082526d2822a39029ba30b13632b1b7b4b760911b6020909201918252620000ac9160039162000331565b506004805460ff19166012179055426006556007819055600a80546001600160a01b0384166001600160a01b0319909116179055600080620000f66001600160e01b03620001d116565b9092509050806200013f576040805162461bcd60e51b815260206004820152600e60248201526d6f7261636c65206661696c75726560901b604482015290519081900360640190fd5b600454620001799060ff16600a0a62000165844762000263602090811b620012a317901c565b620002d560201b6200130c1790919060201c565b6005819055306000818152600860209081526040808320859055805194855251929391927fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef9281900390910190a350505050620003d6565b6000806000600a60009054906101000a90046001600160a01b03166001600160a01b03166359e02dd76040518163ffffffff1660e01b8152600401604080518083038186803b1580156200022457600080fd5b505afa15801562000239573d6000803e3d6000fd5b505050506040513d60408110156200025057600080fd5b5080516020909101519093509150509091565b8181028215806200027d5750818382816200027a57fe5b04145b620002cf576040805162461bcd60e51b815260206004820152601760248201527f6d756c7469706c69636174696f6e206f766572666c6f77000000000000000000604482015290519081900360640190fd5b92915050565b60008082116200031f576040805162461bcd60e51b815260206004820152601060248201526f6469766973696f6e206279207a65726f60801b604482015290519081900360640190fd5b8183816200032957fe5b049392505050565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f106200037457805160ff1916838001178555620003a4565b82800160010185558215620003a4579182015b82811115620003a457825182559160200191906001019062000387565b50620003b2929150620003b6565b5090565b620003d391905b80821115620003b25760008155600101620003bd565b90565b61174c80620003e66000396000f3fe6080604052600436106101395760003560e01c806379ba5097116100ab578063cae9ca511161006f578063cae9ca511461044a578063d4ee1d9014610512578063dc39d06d14610527578063dd62ed3e14610560578063f04961ba1461059b578063f2fde38b146105c55761014a565b806379ba5097146103ac5780638da5cb5b146103c357806395d89b41146103f4578063a9059cbb14610409578063c8c8bb2a146104425761014a565b80632d740f9e116100fd5780632d740f9e146102b3578063313ce567146102e1578063341776d91461030c57806342966c681461032157806352375bb11461034b57806370a08231146103795761014a565b806306fdde031461014f578063095ea7b3146101d957806309c1a71a1461022657806318160ddd1461024957806323b872dd146102705761014a565b3661014a576101466105f8565b5050005b600080fd5b34801561015b57600080fd5b50610164610721565b6040805160208082528351818301528351919283929083019185019080838360005b8381101561019e578181015183820152602001610186565b50505050905090810190601f1680156101cb5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b3480156101e557600080fd5b50610212600480360360408110156101fc57600080fd5b506001600160a01b0381351690602001356107af565b604080519115158252519081900360200190f35b61022e6105f8565b60408051921515835260208301919091528051918290030190f35b34801561025557600080fd5b5061025e61082c565b60408051918252519081900360200190f35b34801561027c57600080fd5b506102126004803603606081101561029357600080fd5b506001600160a01b03813581169160208101359091169060400135610833565b3480156102bf57600080fd5b506102c8610a18565b6040805192835290151560208301528051918290030190f35b3480156102ed57600080fd5b506102f6610aa7565b6040805160ff9092168252519081900360200190f35b34801561031857600080fd5b5061025e610ab0565b34801561032d57600080fd5b506102126004803603602081101561034457600080fd5b5035610ad7565b34801561035757600080fd5b50610360610b9e565b6040805192835260208301919091528051918290030190f35b34801561038557600080fd5b5061025e6004803603602081101561039c57600080fd5b50356001600160a01b0316610bb3565b3480156103b857600080fd5b506103c1610bce565b005b3480156103cf57600080fd5b506103d8610c85565b604080516001600160a01b039092168252519081900360200190f35b34801561040057600080fd5b50610164610c94565b34801561041557600080fd5b506102126004803603604081101561042c57600080fd5b506001600160a01b038135169060200135610cec565b610212610e02565b34801561045657600080fd5b506102126004803603606081101561046d57600080fd5b6001600160a01b038235169160208101359181019060608101604082013564010000000081111561049d57600080fd5b8201836020820111156104af57600080fd5b803590602001918460018302840111640100000000831117156104d157600080fd5b91908080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250929550610e07945050505050565b34801561051e57600080fd5b506103d8610f5e565b34801561053357600080fd5b506102126004803603604081101561054a57600080fd5b506001600160a01b038135169060200135610f6d565b34801561056c57600080fd5b5061025e6004803603604081101561058357600080fd5b506001600160a01b038135811691602001351661109e565b3480156105a757600080fd5b5061022e600480360360208110156105be57600080fd5b50356110c9565b3480156105d157600080fd5b506103c1600480360360208110156105e857600080fd5b50356001600160a01b031661122e565b6000806106406305f5e1006106186106244782348563ffffffff6112a316565b9063ffffffff61130c16565b306000908152600860205260409020549063ffffffff6112a316565b30600090815260086020526040902054909150610663908263ffffffff61136616565b3060009081526008602052604080822092909255338152205461068c908263ffffffff6113ba16565b33600081815260086020908152604091829020939093558051348152928301849052805191927fd5ee694c0bab078223a60a453ca307d033dbf16e1d491ecf996bff9b08cac962929081900390910190a2604080518281529051339130916000805160206116d68339815191529181900360200190a36001915060075460065401421061071d5761071b611406565b505b9091565b6003805460408051602060026001851615610100026000190190941693909304601f810184900484028201840190925281815292918301828280156107a75780601f1061077c576101008083540402835291602001916107a7565b820191906000526020600020905b81548152906001019060200180831161078a57829003601f168201915b505050505081565b3360008181526009602090815260408083206001600160a01b038716808552908352818420869055815186815291519394909390927f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925928290030190a350600160075460065401421061082657610824611406565b505b92915050565b6005545b90565b60006001600160a01b03831661087a5760405162461bcd60e51b81526004018080602001828103825260218152602001806116f66021913960400191505060405180910390fd5b6001600160a01b0383163014156108d1576040805162461bcd60e51b815260206004820152601660248201527531b0b713ba103a3930b739b332b9103a379039b2b63360511b604482015290519081900360640190fd5b6001600160a01b0384166000908152600860205260409020546108fa908363ffffffff61136616565b6001600160a01b03851660009081526008602090815260408083209390935560098152828220338352905220546000191115610989576001600160a01b0384166000908152600960209081526040808320338452909152902054610964908363ffffffff61136616565b6001600160a01b03851660009081526009602090815260408083203384529091529020555b6001600160a01b0383166000908152600860205260409020546109b2908363ffffffff6113ba16565b6001600160a01b0380851660008181526008602090815260409182902094909455805186815290519193928816926000805160206116d683398151915292918290030190a3506001600754600654014210610a1157610a0f611406565b505b9392505050565b6000806000600a60009054906101000a90046001600160a01b03166001600160a01b03166359e02dd76040518163ffffffff1660e01b8152600401604080518083038186803b158015610a6a57600080fd5b505afa158015610a7e573d6000803e3d6000fd5b505050506040513d6040811015610a9457600080fd5b5080516020909101519093509150509091565b60045460ff1681565b6000600754600654014210610ac757506000610830565b4260075460065401039050610830565b600554600090610aed908363ffffffff61136616565b60055533600090815260086020526040902054610b10908363ffffffff61136616565b33600081815260086020908152604091829020939093558051858152905191927fcc16f5dbb4873280815c1ee09dbd06736cffcc184412cf7a71a0fdb75d397ca592918290030190a260408051838152905160009133916000805160206116d68339815191529181900360200190a3506001600754600654014210610b9957610b97611406565b505b919050565b60008047610bab30610bb3565b915091509091565b6001600160a01b031660009081526008602052604090205490565b6001546001600160a01b03163314610c21576040805162461bcd60e51b81526020600482015260116024820152701d5b985d5d1a1bdc9a5cd9590818d85b1b607a1b604482015290519081900360640190fd5b600154600080546040516001600160a01b0393841693909116917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e091a360018054600080546001600160a01b03199081166001600160a01b03841617909155169055565b6000546001600160a01b031681565b6002805460408051602060018416156101000260001901909316849004601f810184900484028201840190925281815292918301828280156107a75780601f1061077c576101008083540402835291602001916107a7565b60006001600160a01b038316610d335760405162461bcd60e51b81526004018080602001828103825260218152602001806116f66021913960400191505060405180910390fd5b6001600160a01b038316301415610d5457610d4d826110c9565b5050610dea565b33600090815260086020526040902054610d74908363ffffffff61136616565b33600090815260086020526040808220929092556001600160a01b03851681522054610da6908363ffffffff6113ba16565b6001600160a01b0384166000818152600860209081526040918290209390935580518581529051919233926000805160206116d68339815191529281900390910190a35b50600160075460065401421061082657610824611406565b600190565b3360008181526009602090815260408083206001600160a01b038816808552908352818420879055815187815291519394909390927f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925928290030190a3604051638f4ffcb160e01b815233600482018181526024830186905230604484018190526080606485019081528651608486015286516001600160a01b038a1695638f4ffcb195948a94938a939192909160a490910190602085019080838360005b83811015610ede578181015183820152602001610ec6565b50505050905090810190601f168015610f0b5780820380516001836020036101000a031916815260200191505b5095505050505050600060405180830381600087803b158015610f2d57600080fd5b505af1158015610f41573d6000803e3d6000fd5b5050505060019050600754600654014210610a1157610a0f611406565b6001546001600160a01b031681565b600080546001600160a01b03163314610fc1576040805162461bcd60e51b81526020600482015260116024820152701d5b985d5d1a1bdc9a5cd9590818d85b1b607a1b604482015290519081900360640190fd5b6001600160a01b038316301415611014576040805162461bcd60e51b815260206004820152601260248201527163616e27742077697468647261772050454760701b604482015290519081900360640190fd5b600080546040805163a9059cbb60e01b81526001600160a01b0392831660048201526024810186905290519186169263a9059cbb926044808401936020939083900390910190829087803b15801561106b57600080fd5b505af115801561107f573d6000803e3d6000fd5b505050506040513d602081101561109557600080fd5b50519392505050565b6001600160a01b03918216600090815260096020908152604080832093909416825291909152205490565b30600090815260086020526040812054819061111e906305f5e1009061061890611111906110fd908863ffffffff6113ba16565b610618886305f5e10063ffffffff6112a316565b479063ffffffff6112a316565b30600090815260086020526040902054909150611141908463ffffffff6113ba16565b3060009081526008602052604080822092909255338152205461116a908463ffffffff61136616565b33600081815260086020908152604091829020939093558051868152928301849052805191927f4d67734d52034739be58f2ad827afa1d76951a0dfcc506b9e92e0f7d99b81507929081900390910190a2604080518481529051309133916000805160206116d68339815191529181900360200190a3604051339082156108fc029083906000818181858888f1935050505015801561120d573d6000803e3d6000fd5b506001915060075460065401421061122957611227611406565b505b915091565b6000546001600160a01b03163314611281576040805162461bcd60e51b81526020600482015260116024820152701d5b985d5d1a1bdc9a5cd9590818d85b1b607a1b604482015290519081900360640190fd5b600180546001600160a01b0319166001600160a01b0392909216919091179055565b8181028215806112bb5750818382816112b857fe5b04145b610826576040805162461bcd60e51b815260206004820152601760248201527f6d756c7469706c69636174696f6e206f766572666c6f77000000000000000000604482015290519081900360640190fd5b6000808211611355576040805162461bcd60e51b815260206004820152601060248201526f6469766973696f6e206279207a65726f60801b604482015290519081900360640190fd5b81838161135e57fe5b049392505050565b6000828211156113b4576040805162461bcd60e51b81526020600482015260146024820152737375627472616374696f6e206f766572666c6f7760601b604482015290519081900360640190fd5b50900390565b81810182811015610826576040805162461bcd60e51b81526020600482015260116024820152706164646974696f6e206f766572666c6f7760781b604482015290519081900360640190fd5b6000806000611413610a18565b9092509050806114635730600090815260086020526040808220544260065590519094507f75060b8162d3b84be2a572201084a52427a02e230035b5853f74d42a3a6835b89190a1506108309050565b6004546114809060ff16600a0a610618844763ffffffff6112a316565b306000908152600860205260409020549092506064900460650282111561158f57306000908152600860205260408120546114c990600a9061061890869063ffffffff61136616565b306000908152600860205260409020549091506114ec908263ffffffff6113ba16565b3060009081526008602090815260409182902054825190815290810184905281519296507faf455eb3601828170731dd864d1269324088b8f0a30e67ab9dad59e72ca57a7c929081900390910190a160408051828152905130916000916000805160206116d68339815191529181900360200190a3306000908152600860205260409020849055600554611586908263ffffffff6113ba16565b600555506116cc565b306000908152600860205260409020546064900460630282101561169157306000908152600860205260408120546115d490600a90610618908663ffffffff61136616565b306000908152600860205260409020549091506115f7908263ffffffff61136616565b3060009081526008602090815260409182902054825190815290810184905281519296507f736ce3b4042d1c55ca5f8aee68350ae70e8fc4a032e3a229764abbba7cd47629929081900390910190a160408051828152905160009130916000805160206116d68339815191529181900360200190a3306000908152600860205260409020849055600554611586908263ffffffff61136616565b306000908152600860205260408082205490519094507ff07601ba1b773cee11e77cc56639a225c0dad6216486e99e0df46d90fc9e07489190a15b5050426006559056feddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef63616e27742073656e6420746f203020616464726573732c20757365206275726ea26469706673582212206e183a4772a4fce3a59195825ee05ff9d19431984f3c76fedec49867db05e14f64736f6c63430006070033000000000000000000000000729d19f657bd0614b4985cf1d82531c67569197b0000000000000000000000000000000000000000000000000000000000005460"
	data, err := hex.DecodeString(staticbin)
	if err != nil {
		t.Fatalf("decoding failes err: %v", err)
	}
	strs, err := Disassemble(data)
	if err != nil {
		t.Fatalf("disassembling failed err: %v", err)
	}
	fmt.Println("Disassembled EVM instructions:")
	for _, str := range strs {
		fmt.Print(str)
	}

	data, err = hex.DecodeString(onlinebin)
	if err != nil {
		t.Fatalf("decoding failes err: %v", err)
	}
	onlinestrs, err := Disassemble(data)
	if err != nil {
		t.Fatalf("disassembling failed err: %v", err)
	}
	fmt.Println("Disassembled Online instructions:")
	for _, str := range onlinestrs {
		fmt.Print(str)
	}
}

func TestCreationSplit(t *testing.T) {
	creation := "60806040526000600360086101000a81548160ff021916908360ff16021790555034801561002c57600080fd5b50336000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550611fbb8061007c6000396000f3fe6080604052600436106101355760003560e01c806380e0a9b5116100ab578063a4f3e86a1161006f578063a4f3e86a146105ee578063a6da946114610657578063d9084ea1146106e8578063f2fde38b14610769578063fa2e0933146107ba578063fc8af1cc146107f157610135565b806380e0a9b51461045a57806384203f4b1461049e57806387801796146105075780638b0e9f3f1461056c5780638da5cb5b1461059757610135565b80632f455d51116100fd5780632f455d51146102555780633711b23f1461029357806354198ce9146102be5780636d0cac8e1461032357806370a082311461035a5780637d8639e4146103bf57610135565b8063077e403e1461013f5780630a2986441461014957806319abbb33146101ae57806325d506fa146101e95780632e1a7d4d1461021a575b61013d61081c565b005b610147610d0a565b005b34801561015557600080fd5b506101986004803603602081101561016c57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050610f62565b6040518082815260200191505060405180910390f35b3480156101ba57600080fd5b506101e7600480360360208110156101d157600080fd5b8101908080359060200190929190505050610fae565b005b3480156101f557600080fd5b506101fe611115565b604051808260ff1660ff16815260200191505060405180910390f35b34801561022657600080fd5b506102536004803603602081101561023d57600080fd5b8101908080359060200190929190505050611128565b005b34801561026157600080fd5b506102916004803603602081101561027857600080fd5b81019080803560ff16906020019092919050505061142c565b005b34801561029f57600080fd5b506102a861151c565b6040518082815260200191505060405180910390f35b3480156102ca57600080fd5b5061030d600480360360208110156102e157600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050611568565b6040518082815260200191505060405180910390f35b34801561032f57600080fd5b506103386115b1565b604051808263ffffffff1663ffffffff16815260200191505060405180910390f35b34801561036657600080fd5b506103a96004803603602081101561037d57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff1690602001909291905050506115c7565b6040518082815260200191505060405180910390f35b3480156103cb57600080fd5b50610418600480360360408110156103e257600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190505050611610565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b61049c6004803603602081101561047057600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919050505061165b565b005b3480156104aa57600080fd5b506104ed600480360360208110156104c157600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff1690602001909291905050506119b1565b604051808215151515815260200191505060405180910390f35b34801561051357600080fd5b506105566004803603602081101561052a57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050611a07565b6040518082815260200191505060405180910390f35b34801561057857600080fd5b50610581611a1f565b6040518082815260200191505060405180910390f35b3480156105a357600080fd5b506105ac611a25565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b3480156105fa57600080fd5b5061063d6004803603602081101561061157600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050611a4a565b604051808215151515815260200191505060405180910390f35b34801561066357600080fd5b506106a66004803603602081101561067a57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050611a6a565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b3480156106f457600080fd5b506107276004803603602081101561070b57600080fd5b81019080803563ffffffff169060200190929190505050611a9d565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b34801561077557600080fd5b506107b86004803603602081101561078c57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050611ad0565b005b3480156107c657600080fd5b506107cf611c21565b604051808263ffffffff1663ffffffff16815260200191505060405180910390f35b3480156107fd57600080fd5b50610806611c37565b6040518082815260200191505060405180910390f35b6000600660003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054141561098d57662386f26fc100003410156108e1576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252600e8152602001807f216465706f736974206c696d697400000000000000000000000000000000000081525060200191505060405180910390fd5b3360046000600360049054906101000a900463ffffffff1663ffffffff1663ffffffff16815260200190815260200160002060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506003600481819054906101000a900463ffffffff168092919060010191906101000a81548163ffffffff021916908363ffffffff160217905550505b60003411610a03576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260068152602001807f2176616c7565000000000000000000000000000000000000000000000000000081525060200191505060405180910390fd5b6000600760003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff169050610a7c34600154611c3d90919063ffffffff16565b600181905550610a8b336119b1565b15610aac57610aa534600254611c3d90919063ffffffff16565b6002819055505b600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff1614610c24576000610af6606434611cc590919063ffffffff16565b9050610b4a81600660008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054611c3d90919063ffffffff16565b600660008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002081905550610bdf81600960008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054611c3d90919063ffffffff16565b600960008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002081905550505b610c7634600660003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054611c3d90919063ffffffff16565b600660003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055503373ffffffffffffffffffffffffffffffffffffffff167fe1fffcc4923d04b559f4d29a8bfc6cda04eb5b0d3c460751c2402c5c5cc9109c346040518082815260200191505060405180910390a250565b6000610d1461151c565b9050803414610d8b576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260118152602001807f76697020636f7374206d69736d6174636800000000000000000000000000000081525060200191505060405180910390fd5b600560003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff1615610e4b576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252600b8152602001807f76697020616c726561647900000000000000000000000000000000000000000081525060200191505060405180910390fd5b6001600560003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff0219169083151502179055506000610eae336115c7565b90506000811115610ed557610ece81600254611c3d90919063ffffffff16565b6002819055505b6003600081819054906101000a900463ffffffff168092919060010191906101000a81548163ffffffff021916908363ffffffff160217905550503373ffffffffffffffffffffffffffffffffffffffff167fc71b28693c8bbbb20f6068dd918a71a6ab0c83edaa6789f1997b70dbf9b50574346040518082815260200191505060405180910390a25050565b6000600860008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020805490509050919050565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161461100757600080fd5b6000811161107d576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252600b8152602001807f217a65726f20696e70757400000000000000000000000000000000000000000081525060200191505060405180910390fd5b3373ffffffffffffffffffffffffffffffffffffffff166108fc829081150290604051600060405180830381858888f193505050501580156110c3573d6000803e3d6000fd5b503373ffffffffffffffffffffffffffffffffffffffff167fbab948c05df3e6bb363b70ccd842ada769c20139583b7b4014c4b23ef26cd6fe826040518082815260200191505060405180910390a250565b600360089054906101000a900460ff1681565b6000811161119e576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260068152602001807f2176616c7565000000000000000000000000000000000000000000000000000081525060200191505060405180910390fd5b60006111db600360089054906101000a900460ff1660640360ff166111cd606485611d0f90919063ffffffff16565b611cc590919063ffffffff16565b9050600660003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054811115611292576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252600e8152602001807f2162616c616e6365206c696d697400000000000000000000000000000000000081525060200191505060405180910390fd5b61131b816040518060400160405280601f81526020017f776974686472617720616d6f756e7420657863656564732062616c616e636500815250600660003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054611d959092919063ffffffff16565b600660003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000208190555061137381600154611e5590919063ffffffff16565b600181905550611382336119b1565b156113935780600254036002819055505b3373ffffffffffffffffffffffffffffffffffffffff166108fc839081150290604051600060405180830381858888f193505050501580156113d9573d6000803e3d6000fd5b503373ffffffffffffffffffffffffffffffffffffffff167f884edad9ce6fa2440d8a54cc123490eb96d2768479d49ff9c7366125a9424364836040518082815260200191505060405180910390a25050565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161461148557600080fd5b8060ff166064116114fe576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252601b8152602001807f676f7665726e616e63655261746520626967207468616e20313030000000000081525060200191505060405180910390fd5b80600360086101000a81548160ff021916908360ff16021790555050565b60008060016064600360009054906101000a900463ffffffff1663ffffffff168161154357fe5b04019050611562670de0b6b3a764000082611d0f90919063ffffffff16565b91505090565b6000600960008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020549050919050565b600360049054906101000a900463ffffffff1681565b6000600660008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020549050919050565b6008602052816000526040600020818154811061162957fe5b906000526020600020016000915091509054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff1614156116fe576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260128152602001807f7a65726f206164647265737320696e707574000000000000000000000000000081525060200191505060405180910390fd5b6000600660003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054141561194c576000600760003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff169050600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff1614801561181257503373ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff1614155b80156118235750611822826119b1565b5b1561194a5781600760003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550600860008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000203390806001815401808255809150509060018203906000526020600020016000909192909190916101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550505b505b61195461081c565b8073ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff167f3597b2a2ee4bf479fb79a95182176ef6816ab1f2d3fc730b53d7a9433cf673c460405160405180910390a350565b6000600560008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff169050919050565b60096020528060005260406000206000915090505481565b60015481565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b60056020528060005260406000206000915054906101000a900460ff1681565b60076020528060005260406000206000915054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b60046020528060005260406000206000915054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614611b2957600080fd5b600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff161415611b6357600080fd5b8073ffffffffffffffffffffffffffffffffffffffff166000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e060405160405180910390a3806000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555050565b600360009054906101000a900463ffffffff1681565b60025481565b600080828401905083811015611cbb576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252601b8152602001807f536166654d6174683a206164646974696f6e206f766572666c6f77000000000081525060200191505060405180910390fd5b8091505092915050565b6000611d0783836040518060400160405280601a81526020017f536166654d6174683a206469766973696f6e206279207a65726f000000000000815250611e9f565b905092915050565b600080831415611d225760009050611d8f565b6000828402905082848281611d3357fe5b0414611d8a576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401808060200182810382526021815260200180611f666021913960400191505060405180910390fd5b809150505b92915050565b6000838311158290611e42576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825283818151815260200191508051906020019080838360005b83811015611e07578082015181840152602081019050611dec565b50505050905090810190601f168015611e345780820380516001836020036101000a031916815260200191505b509250505060405180910390fd5b5060008385039050809150509392505050565b6000611e9783836040518060400160405280601e81526020017f536166654d6174683a207375627472616374696f6e206f766572666c6f770000815250611d95565b905092915050565b60008083118290611f4b576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825283818151815260200191508051906020019080838360005b83811015611f10578082015181840152602081019050611ef5565b50505050905090810190601f168015611f3d5780820380516001836020036101000a031916815260200191505b509250505060405180910390fd5b506000838581611f5757fe5b04905080915050939250505056fe536166654d6174683a206d756c7469706c69636174696f6e206f766572666c6f77a265627a7a7231582065c4af3083a2739f70bd058824c6976372071159d2df04bcbe673775eecdb18164736f6c63430005110032"
	data, err := hex.DecodeString(creation)
	if err != nil {
		t.Fatalf("decoding failed err: %v", err)
	}
	it := NewInstructionIterator(data)

	it.ToStop()

	if it.error != nil {
		t.Fatalf("error: %v", it.error)
	}

	fmt.Printf("stop at %d, len(code): %d", it.pc, len(data))
}
